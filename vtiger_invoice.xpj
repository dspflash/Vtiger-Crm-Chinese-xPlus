<?xml version="1.0" encoding="UTF-8"?><biztoolcfg qryfmtOpCreate="SET @seq=0; SELECT SUBSTR(invoice_no,-5)+0 INTO @seq FROM vtigercrm6.vtiger_invoice WHERE DATE(creation_date)=CURDATE() ORDER BY invoice_no DESC LIMIT 0,1; SELECT generate_orderNo(Code_Prefix, DT_MODE, @seq,'','') INTO @odn FROM vtigercrm6.xdoc_code WHERE docType='invoice'; insert into %{table} %{data};" qryfmtOpUpdate="" loadedClick="0" tableNm="vtiger_invoice" referLst="0" onLoadInit="0" tableTxt="vtiger_invoice" LstTP="Lst" lines2Link="" jointbls="1" header2Link="" exdata4select=""><DataLstExtElmt><![CDATA[<DbDetails><queryFormat xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\biztools\mysqlcfg.xml" id="tbpages">select %{data} from %{dbtable} %{where} limit %{StartRow},%{PgSize}</queryFormat></DbDetails>]]></DataLstExtElmt><Ctrls><Ctrl name="subject" xTp="TextBox" ctrltype="TextBox"/><Ctrl name="invoicedate" xTp="DateTime" ctrltype="DateTime"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="invoice_no" insertparam="@odn" noUpdate="1" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" nomodify="1" ctrldbname="vtigercrm6." ctrlhide="1" name="invoicestatus" insertparam="1" ctrldbtable="vtiger_invoicestatus" noUpdate="1" xTp="ComboBox" ctrldbdata="invoicestatus,invoicestatusid" ctrldbdatarel="invoicestatusid" ctrltype="ComboBox"/><Ctrl ctrldbname="vtigercrm6." name="salesorderid" ctrldbtable="vtiger_salesorder" xTp="ComboBox" ctrldbdata="subject,salesorderid" ctrldbdatarel="salesorderid" ctrltype="ComboBox"><extattr><![CDATA[onload="init"]]></extattr><addon><![CDATA[<MagicCtrl Name="refresh%{colNm}" Link="tip:刷新" images=",data/refresh.png" button="type:0" Size="20,20"><OnClick><submit next="%{colNm}"/></OnClick></MagicCtrl>\r\n]]></addon></Ctrl><Ctrl name="customerno" xTp="TextBox" ctrltype="TextBox"/><Ctrl name="duedate" xTp="DateTime" ctrltype="DateTime"/><Ctrl ctrldbname="vtigercrm6." name="accountid" ctrldbtable="vtiger_account" xTp="ComboBox" ctrldbdata="accountname,accountid" ctrldbdatarel="accountid" ctrltype="ComboBox"><extattr><![CDATA[onload="init"]]></extattr><addon><![CDATA[<MagicCtrl Name="refresh%{colNm}" Link="tip:刷新" images=",data/refresh.png" button="type:0" Size="20,20"><OnClick><submit next="%{colNm}"/></OnClick></MagicCtrl>\r\n]]></addon></Ctrl><Ctrl ctrldbname="vtigercrm6." name="contactid" ctrldbtable="contacts_v" xTp="ComboBox" ctrldbdata="fullname,contactid" ctrldbdatarel="contactid" ctrltype="ComboBox"><extattr><![CDATA[onload="init"]]></extattr><addon><![CDATA[<MagicCtrl Name="refresh%{colNm}" Link="tip:刷新" images=",data/refresh.png" button="type:0" Size="20,20"><OnClick><submit next="%{colNm}"/></OnClick></MagicCtrl>\r\n]]></addon></Ctrl><Ctrl name="type" xTp="TextBox" ctrltype="TextBox"/><Ctrl ctrldbname="vtigercrm6." name="purchaseorder" ctrldbtable="vtiger_purchaseorder" xTp="ComboBox" ctrldbdata="subject,purchaseorderid" ctrldbdatarel="purchaseorderid" ctrltype="ComboBox"><extattr><![CDATA[onload="init"]]></extattr><addon><![CDATA[<MagicCtrl Name="refresh%{colNm}" Link="tip:刷新" images=",data/refresh.png" button="type:0" Size="20,20"><OnClick><submit next="%{colNm}"/></OnClick></MagicCtrl>\r\n]]></addon></Ctrl><Ctrl noquery="1" name="shipping" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" name="invoiceterms" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" name="terms_conditions" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" name="notes" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" name="taxtype" xTp="ComboBox" ctrltype="ComboBox"/><Ctrl noquery="1" name="s_h_amount" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" name="s_h_percent" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" name="adjustment" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" name="salescommission" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" name="exciseduty" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" name="discount_percent" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" name="discount_amount" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" name="pre_tax_total" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" name="total" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" name="subtotal" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" ctrldbname="vtigercrm6." name="currency_id" ctrldbtable="vtiger_currencies" xTp="ComboBox" ctrldbdata="currency_code,currencyid" ctrldbdatarel="currencyid" ctrltype="ComboBox"><extattr><![CDATA[onload="init"]]></extattr></Ctrl><Ctrl noquery="1" name="conversion_rate" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" name="received" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" name="balance" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="invoiceid" noInsert="1" noInAndUp="1" noUpdate="1" xTp="TextBox" ctrltype="TextBox"/><Ctrl noquery="1" ctrldbname="vtigercrm6." ctrlhide="1" name="created_by" insertparam="'%{user_id}'" ctrldbtable="vtiger_users" noUpdate="1" ctrldbdata="user_name,id" ctrldbdatarel="id"/><Ctrl noquery="1" ctrlhide="1" name="creation_date" insertparam="now()" noUpdate="1"/><Ctrl noquery="1" ctrldbname="vtigercrm6." ctrlhide="1" name="last_update_by" insertparam="'%{user_id}'" ctrldbtable="vtiger_users" updateparam="'%{user_id}'" ctrldbdata="user_name,id" ctrldbdatarel="id"/><Ctrl noquery="1" ctrlhide="1" name="last_update_date" insertparam="now()" updateparam="now()"/></Ctrls></biztoolcfg>